<!DOCTYPE HTML>
<html>
	<head>
		<title>Challenges in CSS grid systems | SF Dev Labs</title>
		<meta http-equiv="X-Powered-By" content="DocPad v6.44.0"/>
		<link  rel="stylesheet" href="/styles/style.css" /><link  rel="stylesheet" href="/vendor/okaida.css" />
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic' rel='stylesheet' type='text/css'>
	<link href="//netdna.bootstrapcdn.com/font-awesome/3.0.2/css/font-awesome.css" rel="stylesheet"/>
	<script src="/vendor/modernizr.js"></script>
	<!--Le HTML5 shim, for IE6-8 support of HTML5 elements--><!--if lt IE 9-->
	<!-- // <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script> -->
	</head>
	<body>
		<div class="main col-12-12 center no-gutter"><div class="col-12-12"><div class="col-2-12 t_col-3-12 p_col-12-12 b-gutter"><div class="logo"><div class="img"><img src="/images/logo_min1000.png"/></div></div></div><div class="col-10-12 t_col-9-12 p_col-12-12 b-gutter"><h1 class="no-t-marg">Challenges in CSS grid systems</h1><strong>Jehan Tremback - June 18 2013</strong></div></div><div id="affix" class="col-12-12 navbar"><a href="/index.html" class="_item">About</a><a href="/portfolio.html" class="_item">Portfolio</a><a href="/blog.html" class="_item">Blog</a><a data-modal-id="modal-1" class="_item">Contact</a></div><div class="col-12-12 no-gutter t-gutter"><p>CSS grids are extremely useful for any kind of web design. They give you consistent horizontal spacing, sizing, and rhythm. They also eliminate a lot of repetetive layout-related css that you would otherwise need to write. However, they can be a bit brain-bending. I'm going to go over the construction of a grid and how I have dealt with many of the challenges that come up. </p><p>There are many different ways to build grids, and most of the choices are a matter of personal preference. In this grid, I choose explicit syntax over implicit "automatic" behavior. In my opinion, it is much quicker to type a few extra classes when you are building your layout than to debug unexpected side effects of "automatic" behavior.</p><p>I have written this grid in Stylus, because it is one of the better CSS preprocessors out there. If you are writing any amount of CSS without a preprocessor, it is because you hate yourself. There's LESS, but it is woefully underpowered. I would consider LESS a partial preprocessor, or a proto-preprocessor. SASS is another option, and has most of the same features as Stylus, but with a more verbose syntax.</p><h2>Columns</h2><p>This is the heart of the grid. Instead of doing a bunch of math and typing out a bunch of column classes, I have used the power of Stylus to do it for me. The col() function takes the number of columns and calculates the right width. I am using a syntax that looks like a fraction- .col-1-12, .col-4-12 and the like. I could use something like .col-1 and .col-4, but in my mind the extra bit of typing is OK and is a nice reminder. I am also setting a max-width for each column. This is to keep your design from getting all stretched out at large screen sizes.</p><pre>page-width = 1140px
number-of-columns = 12

//calculates the width and max-width given the intended number of columns.
//can be used anywhere in your stylesheet.
col(num)
 col-width = 100% / number-of-columns
 col-max-width = page-width / number-of-columns
 width col-width * num
 max-width col-max-width * num
 
//iteratively creates the proper classes for use in html.
for num in 1..number-of-columns
 .col-{num}-{number-of-columns}
  col(num)
  </pre><h2>Gutters</h2><p>This is the other main component of a grid. Having consistent gutters will give your design a clean and ordered feel. However, it can get a bit tricky, especially around the edges. There are two main styles- symmetrical and asymmetrical. With asymmetrical gutters, each column has left or right padding of the full width of the gutter. The container then has the opposite padding. This works OK in simple situations.</p><pre>//EXAMPLE- not in source
.column
 padding-right: gutter
 
.container
 padding-left: gutter
 </pre><p>With symmetrical gutters, the container and the column both have padding of one half of the gutter width. When any of these elements are next to or inside of each other, the padding adds up to the full gutter width. This makes a little more sense, is better for nesting, and allows you to do stuff like placing a border (almost) exactly between two elements.</p><pre>//EXAMPLE- not in source
.column
 padding-left: gutter * .5
 padding-right: gutter * .5
 
.container
 padding-left: gutter * .5
 padding-right: gutter * .5
 
//notice that both of these have the same properties?
</pre><h2>Semantics</h2><p> In my opinion, it can get confusing to have these two different types of elements, especially when nesting. Is this thing a container or a column or both a container and a column? Would it be better if I put the container inside of the column? These kinds of questions are a waste of time to answer.</p><p>I noticed that most of the properties set on the container in many grids are either unnecesary or cause no problems when set on the column, so I have combined both of these classes into one that you can use anywhere. A column has these properties set: the width, the padding, a left float to make the columns line up next to each other, and a clearfix for any columns inside.</p><pre>[class*='col-']
 padding-right grid-padding * .5
 padding-left grid-padding * .5
 float left
 &amp;:after
  content &quot;&quot;
  display table
  clear both
  </pre><h2>Responsiveness</h2><p>Since the grid is percent based, it is already fuid. But this is not enough to make a design that looks good on all devices. Notice, that as you resize your screen, the columns become really squished. We need some way of switching the column width depending on screen size. Enter the media query. We're going to be working with two breakpoints, for phone and tablet. You can add more if you need them, but I won't cover that here. We start by setting variables for the sizes. </p><pre>tablet = 767px
phone = 480px
</pre><p>From these, we can derive the media query strings. </p><pre>under-tablet = &quot;screen and (max-width: &quot; + tablet + &quot;)&quot;
under-phone  = &quot;screen and (max-width: &quot; + phone + &quot;)&quot;

over-tablet = &quot;screen and (min-width: &quot; + tablet + &quot;)&quot;
over-phone  = &quot;screen and (min-width: &quot; + phone + &quot;)&quot;

only-tablet = &quot;screen and (max-width: &quot; + tablet + &quot;) and (min-width: &quot; + phone + &quot;)&quot;
</pre><p>We now set up the actual media queries and their grids. We use the same iterator we used for the base grid, but notice that we namespace the col class. We also set up some -show and -hide classes, which come in really handy.</p><pre>.t-show
 display none
 
.t-only-show
 display none
 
.p-show
 display none
 
 
@media under-tablet
 .t-show
  display block
  
 .t-hide
  display none
  
 //iteratively creates the proper classes for use in html.
 for num in 1..number-of-columns
  .t-col-{num}-{number-of-columns}, .row-{num}-{number-of-columns}
   col-width(num)
   
   
@media only-tablet
 .t-only-show
  display block
  
 .t-only-hide
  display none
  
  
@media under-phone

 .p-show
  display block
  
 .p-hide
  display none
  
 //iteratively creates the proper classes for use in html.
 for num in 1..number-of-columns
  .p-col-{num}-{number-of-columns}, .row-{num}-{number-of-columns}
   col-width(num)
   </pre><p>Let's try this out on a simple example. First, without the responsive columns. Resize your screen, and see it get all squished.</p><p>Let's try this with the responsive classes.</p><h2><code>.-center</code></h2><p>Adding the <code>.-center </code>modifier causes the column to lose its left float and center itself horizontally in its container. We can use this to create a top-level "container".</p><pre><code class="language-markup">&lt;body&gt;
	&lt;div class=&quot;col-12-12 center&quot;&gt;
		&lt;div class=&quot;col-4-12&quot;&gt;...&lt;/div&gt;
		&lt;div class=&quot;col-8-12&quot;&gt;...&lt;/div&gt;
	&lt;/div&gt;
&lt;/body&gt;</code></pre><p>We can also center stuff inside other columns.<pre>&lt;body&gt;
 &lt;div class=&quot;col-12-12 .-center&quot;&gt;
  &lt;div class=&quot;col-9-12 -center&quot;&gt;...&lt;/div&gt;
 &lt;/div&gt;
&lt;/body&gt;
</pre></p><div class="col-12-12 center"><div class="col-9-12 center">Brush fire u.s. citizenship and immigration services abu sayyaf, militia gas mexicles denial of service. Hamas afghanistan, recruitment airplane, attack gas nbic nationalist blizzard biological social. Hamas afghanistan, recruitment airplane, attack gas nbic nationalist blizzard biological social. Brush fire u.s. citizenship and immigration services abu sayyaf, militia gas mexicles denial of service.</div></div><h2>Nesting with <code>.-nopad</code></h2><pre>[class*=&quot;col&quot;]
 &amp;.-nopad
  padding-left 0
  padding-right 0</pre><p>Nesting starts to get a bit tricky. If we naively nest columns inside each other, the gutters pile up innapropriately. As you can see, the gutter between the image and the first text block is 1.5 times larger than it should be.</p><pre>&lt;div class=&quot;col-12-12 -center&quot;&gt;
 &lt;div class=&quot;col-4-12&quot;&gt;&lt;img src=&quot;/images/edward-snowden.jpg&quot;&gt;&lt;/div&gt;
 &lt;div class=&quot;col-8-12&quot;&gt;
  &lt;div class=&quot;col-6-12&quot;&gt;...&lt;/div&gt;
  &lt;div class=&quot;col-6-12&quot;&gt;
   &lt;div class=&quot;col-6-12&quot;&gt;...&lt;/div&gt;
   &lt;div class=&quot;col-6-12&quot;&gt;...&lt;/div&gt;
  &lt;/div&gt;
 &lt;/div&gt;
&lt;/div&gt;

</pre><div class="col-4-12"><img src="/images/edward-snowden.jpg"/></div><div class="col-8-12"><div class="col-6-12">Exposure earthquake drug cartel forest fire avian, influenza noc dndo. Disaster management palestine libration organization tb nationalist crash palestine liberation front. Nuclear facility screening salmonella cis port ice body scanner computer infrastructure cdc evacuation. Power mysql injection biological sick burst national infrastructure yuma food poisoning.</div><div class="col-6-12"><div class="col-6-12">Public health aqim relief police mitigation, michoacana afghanistan hacker un ttp. </div><div class="col-6-12">Rootkit nuclear facility agro militia norvo virus malware exposure extreme weather brown out attack. </div></div></div><p>Other grids solve this problem with a container class that is distinct from the column class. I'd like to be more explicit about it. </p><p>The <code>.-nopad</code> class simply removes the left and right padding from any column it is placed on. If a column that is inside another column has other columns inside of it, use <code>.-nopad</code>. To make it even simpler, basically, if there's too much padding somewhere, add .-nopad to correct it. Boom. Not very semantic, but will eliminate hours of debugging.</p><pre>&lt;div class=&quot;col-12-12 -center&quot;&gt;
 &lt;div class=&quot;col-4-12&quot;&gt;&lt;img src=&quot;/images/edward-snowden.jpg&quot;&gt;&lt;/div&gt;
 &lt;div class=&quot;col-8-12 -nopad&quot;&gt;
  &lt;div class=&quot;col-6-12&quot;&gt;...&lt;/div&gt;
  &lt;div class=&quot;col-6-12 -nopad&quot;&gt;
   &lt;div class=&quot;col-6-12&quot;&gt;...&lt;/div&gt;
   &lt;div class=&quot;col-6-12&quot;&gt;...&lt;/div&gt;
  &lt;/div&gt;
 &lt;/div&gt;
&lt;/div&gt;
</pre><div class="col-4-12"><img src="/images/edward-snowden.jpg"/></div><div class="col-8-12 no-gutter"><div class="col-6-12">Exposure earthquake drug cartel forest fire avian, influenza noc dndo. Disaster management palestine libration organization tb nationalist crash palestine liberation front. Nuclear facility screening salmonella cis port ice body scanner computer infrastructure cdc evacuation. Power mysql injection biological sick burst national infrastructure yuma food poisoning.</div><div class="col-6-12 no-gutter"><div class="col-6-12">Public health aqim relief police mitigation, michoacana afghanistan hacker un ttp. </div><div class="col-6-12">Rootkit nuclear facility agro militia norvo virus malware exposure extreme weather brown out attack.</div></div></div><p>You can also use <code>.-nopad</code> for other stuff</p><h2>Reflow</h2><p>Sometimes it's nice to have elements reflow into the space available to them. This is useful if you are going to be dealing with an indeterminate number of elements, and it will also prove quite useful when we get into responsive grids.</p><div class="col-12-12 center"><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"><img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"><img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"><img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"><img src="/images/edward-snowden.jpg"/></div></div><p>This is quite simple, but it might look funny if we don't use another class, the .inner-v-gutter class. </p><div class="col-12-12 center inner-v-gutter"><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"><img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"><img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"><img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"> <img src="/images/edward-snowden.jpg"/></div><div class="col-2-12"><img src="/images/edward-snowden.jpg"/></div></div><p>I've made all the options into a mixin. This helps eliminate repition in the grid's stylus code and allows you to mix the classes into your main stylus code to eliminate reptition. This will result in a bit of bloat as opposed to using the classes in your html, but makes your code much more maintainable. Also, gzip deals very well with repeating strings in say, a css file.</p></div></div>
		<div id="modal-1" class="md-modal md-effect-15"><div class="md-content"><form method="post" action="/jobrequestpost" enctype="multipart/form-data"><input type="hidden" name="_method" value="POST"/><input type="text" name="name" value="" placeholder="Your Name"/><input type="email" name="email" value="" placeholder="Email"/><textarea type="text" rows="5" name="body" placeholder="What can we help you with?"></textarea><button type="submit" class="button pull-right md-close">Contact us</button></form></div></div><div class="md-overlay"></div>
		<script defer="defer"  src="/vendor/jquery.js"></script><script defer="defer"  src="/vendor/pep.js"></script><script defer="defer"  src="/vendor/prism.js"></script><script defer="defer"  src="/scripts/script.js"></script>
	</body>
</html>
